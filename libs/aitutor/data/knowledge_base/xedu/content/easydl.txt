EasyAPI AI模型远程推理工具
EasyAPI简介
EasyAPI是无代码的MMEdu模型推理（部署）工具，不需要编写一行代码，即可搭建出一个类似百度开放平台的API平台。
如果你训练的模型无法运行在某一创客作品的开源硬件上，或者你想在一个算力较低，也无法安装XEdu的迷你电脑上运行AI应用，那么就需要EasyAPI的帮忙了。
EasyAPI的应用场景
应用场景1：行空板 + 掌控板
行空板和掌控板都是中小学最常见的开源硬件。虽然掌控板不能直接部署模型，但是借助网络，也能作为AI应用的终端。比如一个叫做“听障助手”对项目，将掌控板当作一个终端，录制音频后交给行空板推理。具体做法如下：
行空板部署ONNX模型，利用EasyAPI生成的参考代码，可以直接在行空板上运行。掌控板用HTTP、MQTT的方式远程发送图片或者音频，行空板推理后返回结果信息。
应用场景2：行空板 + PC
行空板的算力终归有限，推理的速度比较慢。如果模型超过50M，在行空板上就很慢了。那么，你可以用行空板拍摄照片，然后发送到PC（算力服务器）上推理。这个过程和使用百度API几乎一样。
EasyAPI的使用步骤
EasyAPI界面启动之后在下拉框中选择问题类型为分类或者检测。
在选择了问题类型之后，下面的"算法类型"也会对应的更改。
选择权重文件、类别文件、推理结果保存路径、推理所用设备。
点击生成代码会在上方Code呈现代码，有需要的用户也可以复制到本地运行。
运行代码会看到EasyAPI界面打开的同时运行的cmd.exe框内会有呈现运行后台，此时点击打开网页。
网页界面如下图所示。用户可指定类别的图片进行识别。此外，EasyAPI还提供了一个接口地址，可通过POST请求进行图像发送-服务器推理识别-结果放回的数据通路。如果手机和启动EasyAPI服务的电脑在同一wifi下，手机端还可以直接输入可视化网页连接来访问该服务，可以实现一个手机拍照，识别推理结果返回显示的功能。
注意事项
一部分参数有范围，例如学习率只能为正值，轮数只能为正整数，请选择合理范围的参数。
关于设备类型，如果没有安装GPU版本的XEdu各模块，则不能以cuda设备运行，只能选择cpu。
请选择空文件夹进行结果的保存，原因已经解释过。
请确认推理时选择的网络是否与权重文件匹配，如果不匹配会报错。

EasyConvert 模型转换辅助工具
EasyConvert 简介
EasyConvert是XEdu提供的无代码模型转换工具。利用EasyConvert，可以实现将MMEdu和BaseNN导出的pth格式模型转换成onnx格式模型，适用于初学者人工智能入门。
注意：pth模型须是新版的MMEdu和BaseNN训练得到的模型！
用EasyConvert准换第一个AI模型！
step 1：选择要转换处理的文件
EasyTrain界面打开之后，有两种支持的文件选项：
-   单个模型文件转换
-   批量模型文件转换（放置在一个文件夹下）
step 2：选择操作
pth转onnx
onnx转pth（正在开发，敬请期待）
step 3：模型转换
点击“模型转换”按钮，会将“单个模型”和“模型文件夹”中的所有模型进行转换。新模型保存地址与原模型相同。

EasyInference 模型推理辅助工具
EasyInference简介
EasyInference是模型推理工具。借助EasyInference，不需要编写一行代码，即可完成模型的推理。支持一张图片和一个文件夹的批量推理。
快速体验用EasyInference完成模型推理
EasyInference页面的左侧还是基本的参数选择，包括问题类型，算法类型，权重文件，类别文件，推理结果的保存路径。
如果推理结果的保存路径不选择，会默认保存到当前文件夹下的det_result中。
但是请选择一个空文件夹作为保存路径，否则预览界面会出现问题。
在一个单选按钮中选择要推理的文件夹或者单张图片，无论选择哪个都会弹出选择框。
如果选择推理单张图片，请选择一张图片，格式支持jpg，jpeg，png。请注意，即使多选，也只会推理第一张。如果发现文件夹中并没有想要的图片，再确认该图片确实在此路径下后，可以通过尝试更改查找时文件的后缀名（如下图所示）来寻找图片。
如果是选择文件夹，选择该文件夹即可。
如果问题类型为检测，则会多出两个参数选择，分别是rpn阈值和rcnn阈值，请选择0-1之内的数字。
点击"生成代码"后，代码会保存在inference_code.py中，并且在界面中显示。
点击"开始推理"后，会弹出提示框并且进行推理。请注意，运行过程中主界面会卡住，请耐心等待推理完成，推理完成后会在右下角显示推理信息，也会在上方显示结果图片。
点击"上一张"，"下一张"可以进行切换。如果保存路径还有其他图片，程序会将那些图片全都展示，所以建议在推理之前清空保存路径。
注意事项
一部分参数有范围，例如学习率只能为正值，轮数只能为正整数，请选择合理范围的参数。
关于设备类型，如果没有安装GPU版本的XEdu各模块，则不能以cuda设备运行，只能选择cpu。
请选择空文件夹进行结果的保存，原因已经解释过。
请确认推理时选择的网络是否与权重文件匹配，如果不匹配会报错。

EasyTrain 模型训练辅助工具
EasyTrain简介
EasyTrain是无代码的MMEdu模型、BaseML模型、BaseNN模型训练辅助工具。借助EasyTrain，不需要编写一行代码，即可训练出AI模型。
用EasyTrain训练第一个MMEdu模型！
step 1：任务选择
EasyTrain界面打开之后在下拉框中选择训练任务为分类或者检测任务。
step 2：模型选择
在选择了训练任务类型之后，点击“下一步”，进入模型选择页面，选择训练的模型。训练模型会根据任务对应更改。
step 3：数据集选择
在训练中要指定训练的数据集，网页会读取XEdu/dataset相应的任务之下数据集。数据集的格式要求为：ImageNet格式（分类任务），COCO格式（检测任务）。
一键安装包中自带分类任务数据集：cats_dogs、hand_gray;检测任务数据集：plate。
目前数据集中为空需要自行下载添加，详细步骤在文件夹中
怎么传入自己的数据集？
如果要使用自己的数据集需要将数据集放置在XEdu/dataset相应的任务之下（分类任务mmedu_cls/检测任务mmedu_det），再刷新一下网页即可再数据集菜单选项中看到对应的数据集。例如现在我想做分类任务，在分类任务mmedu_cls文件夹下放置我的数据集“my_newdataset”（如下图所示），刷新网页成功出现。
step 4：参数设置
点击“设置基本参数↓”，可以设置学习率，批次大小，训练轮数，随机种子。完成设置后点击“确认”按钮，成功设置会弹出窗口提醒设置成功。
点击“设置其他训练参数”，可以设置分类数量（仅用于分类任务），优化器，权重衰减、设备、预训练模型。完成设置后点击“提交”按钮。
*预训练模型放置位置标准：XEdu/checkpoints/训练任务/数据集名（严格一致）/预训练模型.pth
更多参数学习请跳转深度学习训练参数详解
在完成参数设置后，点击右侧的"生成代码"，可以生成训练代码，生成代码之后才可以训练。
生成的代码会显示在上方的代码框，点击右上角复制按钮还可以一键复制代码。
step 5：开始训练
代码生成之后点击"进入训练"按钮即可跳转至训练页面，工具会先检查你的电脑有没有安装MMEdu的库，如果没有请先去”小黑窗“进行pip安装MMEdu。
点击“开始训练”按钮即可一键开始训练模型。
出现“loading”表示模型正在训练中，由于本地cpu训练模型的速度较慢，请耐心等待，可以先去喝杯水休息一下~
若想中断训练，可以点击“停止训练”按钮。
在训练过程中，loss曲线会实时显示在左侧的Loss Chart框中，accuracy曲线会实时显示在左侧的Accuracy  Chart框中。坐标轴的横坐标为训练轮数，纵坐标为对应数值。
自己训练的模型文件将保存在XEdu/my_checkpoints中。每次训练都会生成一个文件夹，可以通过文件夹名称上的日期时间找到对应的模型。
完成模型训练之后，窗口会弹出模型转换，可以点击“是”可实现best_accuracy的pth格式模型转为onnx格式。若要自行转换可使用EasyConvert。
如需尝试用代码完成MMEdu模型训练或了解MMEdu具体功能，请参照MMEdu的教程。
用EasyTrain训练第一个BaseML模型！
step 1：任务选择
EasyTrain界面打开之后在下拉框中选择训练任务为回归任务、分类任务或者聚类任务。
step 2：模型选择
在选择了训练任务类型之后，点击“下一步”，进入模型选择页面，选择训练的模型。训练模型会根据任务对应更改。可点击“了解更多”按钮了解模型，对应机器学习典型算法。
step 3：数据集选择
EasyTrain界面打开之后，选择BaseML页面，在下拉框中指定训练的数据集，网页会读取XEdu/dataset/baseml（或XEdu/dataset/basenn）之下数据集。一键安装包中已自带一些数据集，也可以自己放入新的数据集。
数据集的格式要求为：csv文件(BaseML任务)。针对BaseML特别有这样的约定：第一行为表头，纵向每行为一条样本，横向每列为一个特征，最后一列作为标签列（如果是分类任务，则需要是自然数，如果是回归任务，需要是实数，如果是聚类任务，则不需要这一列）。
step 4：参数设置
点击“设置基本参数↓”，可以设置各种参数，一般保持默认即可。可以设置数据乱序随机种子、高级参数设置、数据验证策略（回归任务默认选择"r2"，分类任务默认选择"acc"，如果要修改为其他策略可以填空来设置）。
在完成参数设置后，点击右侧的"生成代码"，可以生成训练代码，注意需要生成代码之后才可以进入训练。
生成的代码会显示在上方的代码框，点击右上角复制按钮还可以一键复制代码。
step 5：开始训练
代码生成之后点击"进入训练"按钮即可跳转至训练页面，点击“开始训练”按钮即可一键开始训练模型，一般训练很快就可以完成。
训练的模型文件将保存在XEdu/my_checkpoints中。每次训练都会生成一个文件夹，可以通过文件夹名称上的日期时间找到对应的模型。
如需尝试用代码完成BaseML模型训练或了解BaseML具体功能，请参照BaseML的教程。
用EasyTrain训练第一个BaseNN模型！
step 1：数据集选择
EasyTrain界面打开之后，选择BaseNN页面，在下拉框中指定训练的数据集，网页会读取XEdu/dataset/basenn之下数据集。一键安装包中已自带一些数据集，也可以自己放入新的数据集。
数据集的格式要求为：csv文件(BaseNN任务)。纵轴为样本，横轴为特征，第一行为表头，最后一列为标签。
step 2：模型搭建
点击“添加网络层”可以增加网络层，点击右侧“×”可以减少网络层。
注意：
- 第一层的输入维度要和数据集的特征维度（特征的数量）相等。
- 因为数据是从上一层流向下一层，因此下一层的输入维度要和上一层的输出维度保持相等。
- 最后一层的输出维度要和类别数相同。
step 3：参数设置
点击“设置基本参数↓”，可以设置学习率，批次大小，训练轮数，随机种子。完成设置后点击“确认”按钮，成功设置会弹出窗口提醒设置成功。
点击“设置其他训练参数”，可以设置分类数量（仅用于分类任务），优化器，权重衰减、设备、预训练模型。完成设置后点击“提交”按钮。
*预训练模型放置位置标准：XEdu/checkpoints/训练任务/数据集名（严格一致）/预训练模型.pth
更多参数学习请跳转深度学习训练参数详解
在完成参数设置后，点击右侧的"生成代码"，可以生成训练代码，生成代码之后才可以训练。
生成的代码会显示在上方的代码框，点击右上角复制按钮还可以一键复制代码。
step 4：开始训练
代码生成之后点击"进入训练"按钮即可跳转至训练页面，工具会先检查你的电脑有没有安装MMEdu的库，如果没有请先去”小黑窗“进行pip安装BaseNN。
点击“开始训练”按钮即可一键开始训练模型。
出现“loading”表示模型正在训练中，但是也有可能是因为没有安装相应的库，数据集路径错误，数据集为空等等原因导致训练失败，所以先检查一下后台”小黑窗“有没有报错。
如果有报错，修改相应的错误，再通过刷新页面或者关闭”小黑窗“重启工具的方式重新训练。如果没有报错，请耐心等待，由于本地cpu训练模型的速度较慢，可以先去喝杯水休息一下~
若想中断训练，可以点击“停止训练”按钮。
在训练过程中，loss曲线会实时显示在左侧的Loss Chart框中，accuracy曲线会实时显示在左侧的Accuracy  Chart框中。坐标轴的横坐标为训练轮数，纵坐标为对应数值。
自己训练的模型文件将保存在XEdu/my_checkpoints中。每次训练都会生成一个文件夹，可以通过文件夹名称上的日期时间找到对应的模型。
完成模型训练之后，窗口会弹出模型转换，可以点击“是”可实现pth格式模型准换成onnx格式模型。若要自行转换可使用EasyConvert。
如需尝试用代码完成BaseNN模型训练或了解BaseNN具体功能，请参照BaseNN的教程。
常见错误排查
1.Flask运行错误
EasyTrain基于Flask开发。如果在运行时出现这样的错误：
``` {.powershell}
hostname,aliases,ipaddrs = gethostbyaddr(name)InicodeDecodeError: 'utf-8' codec can't decode byte 0xdl in position 7: invalid continuation bvte。
```
请检查电脑名称是否为中文，修改为英文即可。
2.生成代码正常，但是进入训练时没有反应。
EasyTrain的生成代码部分基于Flask开发，进入训练则需要XEdu环境，涵盖BaseML、BaseNN、MMEdu等。点击“进入训练”后会在主目录下生成对应的“***code.py”的文件。如果训练时页面没有反应，请用Python IDE工具（如Thonny）打开并运行，再根据错误提示进行排查。
注意事项
请确认选择的数据集不为空，且数据集格式正确。
一部分参数有范围，例如学习率只能为正值，轮数只能为正整数，请选择合理范围的参数。
关于设备类型，如果没有安装GPU版本的XEdu各模块，则不能以cuda设备运行，只能选择cpu。
请确认推理时选择的网络是否与权重文件匹配，如果不匹配会报错。

如何获取EasyDL系列工具
方式一：使用XEdu一键安装包中内置EasyDL
EasyDL系列工具内置在XEdu一键安装包中（如下图所示）。
飞书网盘：https://p6bm2if73b.feishu.cn/drive/folder/fldcn67XTwhg8qIFCl8edJBZZQb
浦源CDN加速：https://download.openxlab.org.cn/models/yikshing/bash/weight/x16
下载一键安装包后，进入EasyDL文件夹，选择对应的工具，双击即可打开。（提示：不要关闭命令提示符窗口）
方式二：通过pip命令来安装新版easy系列工具
1. 安装库
你可以通过pip命令来安装新版easy系列工具。
pip install easy-xedu 
更新库文件：
pip install --upgrade easy-xedu
安装EasyDL库之后，就可以在终端使用命令easytrain或easyconvert，打开EasyTrain无代码模型训练工具或
EasyConvert无代码模型转换工具。
2. 启动工具
打开一个任意文件夹，建议是纯英文路径下的空白文件夹，下面以D:\workspace为例。如下图所示，在当前目录下的路径栏，输入cmd+回车，就可以打开当前目录下的命令行，在命令行中输入easytrain或easyconvert，回车运行，即可启动EasyTrain工具或EasyConvert工具。
easytrain工具在启动后会在命令行中返回工具地址，复制地址到浏览器的网址栏中，即可打开工具。如下图所示。
easyconvert工具在启动后会即可弹出工具窗口。如下图所示。
在启动以上两个任意一个工具的过程中会自动检测这个文件夹下是否存在以下目录结构，不符合以下结构会新建相应的文件夹。
|----checkpoints（预训练模型）
    |----basenn_model
    |----mmedu_cls_model
    |----mmedu_det_model
|----datasets（数据集）
    |----basenn
    |----mmedu_cls
    |----mmedu_det
|----my_checkpoints（自己训练的模型将会保存在此）
文件夹的使用可以通过链接跳转学习：checkpoints（选择预训练模型）、datasets（选择数据集）、
my_checkpoints（自己训练的模型将会保存在此）。
EasyDL系列工具的代码全部以CC协议开源，欢迎再次修改。

EasyDL系列工具功能详解
初识EasyDL
EasyDL系列工具是由上海人工智能实验室智能教育中心打造的面向0基础或者较低基础的中小学生的无代码可视化工具。一个step-by-step的无代码（傻瓜化）模型训练和推理辅助工具，基于MMEdu开发。既可以独立下载（安装时提示需要XEdu环境），又内置在XEdu的一键安装包中。旨在让代码能力不强的初学者也能体验到人工智能的训练与学习，并且可以看到基于XEdu编写格式的训练、推理及部署的代码。
核心功能
1. EasyTrain
EasyTrain是XEdu提供的无代码模型训练工具。利用EasyTrain，可以完成模型训练的全流程体验，适用于初学者人工智能入门。
①实现了无代码训练可视化界面
②支持以下训练选项：
分类问题和检测问题
LeNet，ResNet18，yolov3等不同算法选择
自选数据集，保存路径，是否使用预训练模型等
轮数，学习率，优化器等训练参数的自定义
③训练代码生成与查看
④集成开始训练与结束训练按钮，并实时显示loss曲线
2. EasyInference
EasyInference是XEdu提供的无代码模型训练工具。利用EasyInference，可以完成模型推理的全流程体验，适用于初学者人工智能入门。
①实现了无代码推理可视化界面
②支持以下推理选项：
数据和权重文件选择
单张图像或者文件夹选择
③在界面中预览推理结果和图片
④推理代码生成与查看
3. EasyAPI
EasyAPI是XEdu提供的无代码接口部署工具系列。利用EasyAPI，可以将推理侧从边缘硬件设备上剥离开，在PC机或计算节点上启动EasyAPI，即可供同一局域网下的边缘硬件设备调用，用户也可以在公网环境中启动EasyAPI，并打开相应的安全组，即可供公网设备调用该接口服务。该方案增加了数据传输的时间，节省了由于边缘设备算力有限带来了计算消耗。
①实现了无代码服务部署可视化界面
②支持以下选项：
问题类型
算法类型
权重文件和类别文件的选择
结果保存路径
③生成代码
④在界面中跳转到Web服务的网页

EasyDL系列工具功能详解
初识EasyDL
EasyDL系列工具是由上海人工智能实验室智能教育中心打造的面向0基础或者较低基础的中小学生的无代码可视化工具。一个step-by-step的无代码（傻瓜化）模型训练和推理辅助工具，基于XEdu开发。既可以独立下载（安装时提示需要XEdu环境），又内置在XEdu的一键安装包中。旨在让代码能力不强的初学者也能体验到人工智能的训练与学习，并且可以看到基于XEdu编写格式的训练、推理及部署的代码。
核心功能
1. EasyTrain
EasyTrain是XEdu提供的无代码模型训练工具。利用EasyTrain，可以完成模型训练的全流程体验，适用于初学者人工智能入门。
①实现了无代码训练可视化界面
②支持以下训练选项：
MMEdu：
-   任务选择：图像分类任务、目标检测任务
-   模型选择：LeNet，ResNet18，SSD_Lite等模型
-   数据集选择：自选数据集
-   参数设置：学习率，训练轮数，是否使用预训练模型等设置
BaseML：
任务选择：回归任务、分类任务、聚类任务
模型选择：线性回归、决策树、随机森林等机器学习典型算法
数据集选择：自选数据集
参数设置：数据验证策略、高级参数设置等
BaseNN：
数据集选择：自选数据集
模型搭建：添加网络层，输入输出维度，激活函数
参数设置：学习率，训练轮数，是否使用预训练模型等设置
③训练代码生成与查看
④集成“开始训练”与“结束训练”按钮，并实时显示Loss和Accuracy曲线，黑框会呈现运行结果。
2. EasyConvert
EasyConvert是XEdu提供的无代码模型转换工具。利用EasyConvert，可以实现将MMEdu和BaseNN导出的pth格式模型转换成onnx格式模型，适用于初学者人工智能入门。
注意：pth模型须是新版的MMEdu和BaseNN训练得到的模型！
①实现了无代码模型准换可视化界面
②支持以下文件选项：
单个模型文件转换
批量模型文件转换（放置在一个文件夹下）
3. EasyInference
EasyInference是XEdu提供的无代码模型训练工具。利用EasyInference，可以完成模型推理的全流程体验，适用于初学者人工智能入门。
①实现了无代码推理可视化界面
②支持以下推理选项：
数据和权重文件选择
单张图像或者文件夹选择
③在界面中预览推理结果和图片
④推理代码生成与查看
4. EasyAPI
EasyAPI是XEdu提供的无代码接口部署工具系列。利用EasyAPI，可以将推理侧从边缘硬件设备上剥离开，在PC机或计算节点上启动EasyAPI，即可供同一局域网下的边缘硬件设备调用，用户也可以在公网环境中启动EasyAPI，并打开相应的安全组，即可供公网设备调用该接口服务。该方案增加了数据传输的时间，节省了由于边缘设备算力有限带来了计算消耗。
①实现了无代码服务部署可视化界面
②支持以下选项：
问题类型
算法类型
权重文件和类别文件的选择
结果保存路径
③生成代码
④在界面中跳转到Web服务的网页

